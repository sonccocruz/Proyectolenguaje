"use strict";define("Dashboards/Common",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","VSS/Platform/Util/Serialization"],function(e,t,a,s,r){!function(e){t[e]={},t[e].IDashboardsNotificationServiceName="IDashboardsNotificationService";class s extends a.VssObservableService{notifyDashboardRefreshing(){this._notify({},"dashboardRefreshing")}}t[e].DashboardsNotificationService=s,a.Services.add(t[e].IDashboardsNotificationServiceName,{serviceFactory:s})}("DashboardsNotificationService"),function(e){t[e]={};t[e].DashboardClientName="IDashboardRestClient",t[e].getDashboardClient=function(a,s){return a.getRestClient(t[e].DashboardClientName,s)},a.RestClients.add(t[e].DashboardClientName,{factory:class extends s.RestClientBase{constructor(e){super(e)}async copyDashboard(e,t,a){const s=t.projectId||t.project,r=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.3",method:"POST",routeTemplate:"{project}/{team}/_apis/Dashboard/Dashboards/{dashboardId}",routeValues:{project:s,team:r,dashboardId:a},body:e})}async createDashboard(e,t){const a=t.projectId||t.project,s=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.3",method:"POST",routeTemplate:"{project}/{team}/_apis/Dashboard/Dashboards/{dashboardId}",routeValues:{project:a,team:s},body:e})}async deleteDashboard(e,t){const a=e.projectId||e.project,s=e.teamId||e.team;return this.beginRequest({apiVersion:"6.0-preview.3",method:"DELETE",routeTemplate:"{project}/{team}/_apis/Dashboard/Dashboards/{dashboardId}",routeValues:{project:a,team:s,dashboardId:t}})}async getDashboard(e,t){const a=e.projectId||e.project,s=e.teamId||e.team;return this.beginRequest({apiVersion:"6.0-preview.3",routeTemplate:"{project}/{team}/_apis/Dashboard/Dashboards/{dashboardId}",routeValues:{project:a,team:s,dashboardId:t}})}async getDashboardsByProject(e){const t=e.projectId||e.project,a=e.teamId||e.team;return this.beginRequest({apiVersion:"6.0-preview.3",routeTemplate:"{project}/{team}/_apis/Dashboard/Dashboards/{dashboardId}",routeValues:{project:t,team:a}})}async replaceDashboard(e,t,a){const s=t.projectId||t.project,r=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.3",method:"PUT",routeTemplate:"{project}/{team}/_apis/Dashboard/Dashboards/{dashboardId}",routeValues:{project:s,team:r,dashboardId:a},body:e})}async replaceDashboards(e,t){const a=t.projectId||t.project,s=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.3",method:"PUT",routeTemplate:"{project}/{team}/_apis/Dashboard/Dashboards/{dashboardId}",routeValues:{project:a,team:s},body:e})}async createWidget(e,t,a){const s=t.projectId||t.project,r=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.2",method:"POST",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:s,team:r,dashboardId:a},body:e})}async deleteWidget(e,t,a){const s=e.projectId||e.project,r=e.teamId||e.team;return this.beginRequest({apiVersion:"6.0-preview.2",method:"DELETE",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:s,team:r,dashboardId:t,widgetId:a}})}async getWidget(e,t,a){const s=e.projectId||e.project,r=e.teamId||e.team;return this.beginRequest({apiVersion:"6.0-preview.2",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:s,team:r,dashboardId:t,widgetId:a}})}async getWidgets(e,t,a){const s=e.projectId||e.project,o=e.teamId||e.team;return this.beginRequest({apiVersion:"6.0-preview.2",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:s,team:o,dashboardId:t},customHeaders:{ETag:a},returnRawResponse:!0}).then(async e=>{const t=await e.text().then(r.deserializeVssJsonObject),a=e.headers.get("ETag");return{widgets:t,eTag:a?a.split(","):[]}})}async replaceWidget(e,t,a,s){const r=t.projectId||t.project,o=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.2",method:"PUT",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:r,team:o,dashboardId:a,widgetId:s},body:e})}async replaceWidgets(e,t,a,s){const o=t.projectId||t.project,d=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.2",method:"PUT",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:o,team:d,dashboardId:a},customHeaders:{ETag:s},body:e,returnRawResponse:!0}).then(async e=>{const t=await e.text().then(r.deserializeVssJsonObject),a=e.headers.get("ETag");return{widgets:t,eTag:a?a.split(","):[]}})}async updateWidget(e,t,a,s){const r=t.projectId||t.project,o=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.2",method:"PATCH",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:r,team:o,dashboardId:a,widgetId:s},body:e})}async updateWidgets(e,t,a,s){const o=t.projectId||t.project,d=t.teamId||t.team;return this.beginRequest({apiVersion:"6.0-preview.2",method:"PATCH",routeTemplate:"{project}/{team}/_apis/Dashboard/dashboards/{dashboardId}/Widgets/{widgetId}",routeValues:{project:o,team:d,dashboardId:a},customHeaders:{ETag:s},body:e,returnRawResponse:!0}).then(async e=>{const t=await e.text().then(r.deserializeVssJsonObject),a=e.headers.get("ETag");return{widgets:t,eTag:a?a.split(","):[]}})}async getWidgetMetadata(e,t){return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Dashboard/WidgetTypes/{contributionId}",routeValues:{project:t,contributionId:e}})}async getWidgetTypes(e,t){const a={$scope:e};return this.beginRequest({apiVersion:"6.0-preview.1",routeTemplate:"{project}/_apis/Dashboard/WidgetTypes/{contributionId}",routeValues:{project:t},queryParams:a})}},options:{resourceAreaId:"31c84e0a-3ece-48fd-a29d-100849af99ba"}})}("RestClientDashboard"),function(e){t.TelemetryConstants={};class a{}t.TelemetryConstants.DashboardsTelemetryConstants=a,a.Area="Dashboards"}()},["DashboardsNotificationService","RestClient/Dashboard","TelemetryConstants"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-dashboards.dashboards-common"}}));