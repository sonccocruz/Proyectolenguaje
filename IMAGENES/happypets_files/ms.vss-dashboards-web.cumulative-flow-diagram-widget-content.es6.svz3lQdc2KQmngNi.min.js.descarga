"use strict";define("Widgets/CumulativeFlowDiagram",["require","exports","VSS/Platform/Location","VSS/Core/Util/String","WidgetCommon/DateUtils/DateUtils","Dashboards/WidgetCommon/WidgetTelemetry","VSS/Features/Charts/Contracts","VSS/Platform/FPS","Analytics/Boards/CumulativeFlowDiagramQueries/LowestLevelVisibleBoardQuery","Dashboards/WidgetCommon/DashboardsCacheableQueryService","Tfs/Widget/Context","react","VSS/Platform/Layout","VSSUI/ZeroData","Analytics/Boards/CumulativeFlowDiagramQueries/BoardColumnsQuery","Analytics/Boards/CumulativeFlowDiagramQueries/CumulativeFlowHistoryQuery","Analytics/Common/Resources","Analytics/Common/Utilities/AnalyticsExceptionUtilities","Dashboards/WidgetContracts/WidgetProps","Reporting/DataQuality/DataQualityService","Reporting/Lightbox/Lightbox","Reporting/Visuals/LayoutComponents/Widgets/ScalarComponent","Reporting/Visuals/VisualHeader","Reporting/Visuals/VisualMessages/ActionRequiredContent","Reporting/Visuals/VisualMessages/AxFaultInMessage","Reporting/Visuals/VisualMessages/NoDataMessage","Reporting/Visuals/VisualMessages/UnconfiguredMessage","VSS/Features/Charts/Chart","VSS/Platform/Components/Format"],function(e,t,a,r,s,i,o,n,l,d,c,u,m,g,h,p,C,D,f,w,P,S,b,v,y,F,B,A,E){var x,T,I,N,R,U,M,k,L,_;x=t.Resources={},t.Resources.Subtitle_RollingPeriod_Singular="Since yesterday",t.Resources.Subtitle_RollingPeriod_Plural_Format="Last {0} days",t.Resources.Subtitle_StartDate_Format="As of {0}",t.Resources.Error_PlaceholderBoardUnsupported_Format="It looks like no one has ever visited the {0} board. Please visit the board first, then try again.",t.Resources.UnvisitedBoardVisualMessage_Action_Format="Visit the {0} board",t.Resources.DeletedColumnName_Format="{0} (Deleted)",t.Resources.DefaultTitle_Format="{0} {1} CFD",t.Resources.PaletteName_Blue="Blue",t.Resources.PaletteName_Green="Green",t.Resources.PaletteName_Orange="Orange",t.Resources.PaletteName_Purple="Purple",t.Resources.PaletteName_Red="Red",t.Resources.WorkInProgressMetricLabel="Work items in progress",t.Resources.WorkInProgressMetricAggregationDescription="Average Count",function(e){T=t.BoardsUtils={},t.BoardsUtils.createBoardUrl=function(e,t,r,s){return(0,a.routeUrl)(e,"ms.vss-work-web.team-board-content-route",{project:t,teamName:r,backlogLevel:s,pivot:"board"})}}(),function(e){function a(e,t,a){const r=e.filter(e=>{const r=a.indexOf(e.ColumnId)>=0,s=t.indexOf(e.ColumnId)<0;return r&&s});return Math.round(r.reduce((e,t)=>e+t.Count,0))}function i(e){const t={};return e.forEach(e=>{t[e.SampleDate]?t[e.SampleDate].push(e):t[e.SampleDate]=[e]}),t}function o(e){return e.filter(e=>!e.IsDeleted).reduce((e,t)=>e.ColumnOrder<t.ColumnOrder?e:t)}function n(e){return e.filter(e=>!e.IsDeleted).reduce((e,t)=>e.ColumnOrder>t.ColumnOrder?e:t)}I=t.CfdAggregationHelper={},t.CfdAggregationHelper.getAverageWip=function(e,t,r){const s=i(t),l=[],d=[o(e).ColumnId,n(e).ColumnId];if(function(e,t){for(const a of t)if(-1===e.findIndex(e=>e===a))return!0;return!1}(d,r)){for(const e in s){const t=a(s[e],d,r);l.push(t)}return Math.round(l.reduce((e,t)=>e+t,0)/(l.length||1))}},t.CfdAggregationHelper.getAverageLeadTime=function(e,t){const l=i(t),d=Object.keys(l).sort(r.localeIgnoreCaseComparer),c={};for(let t=d.length-1;t>=0;t--){const r=d[t],i=l[r],u=o(e),m=n(e),g=i.findIndex(e=>e.ColumnId===m.ColumnId);if(g<0)continue;const h=i[g].Count;for(let i=t-1;i>=0;i--){const t=d[i],o=[u.ColumnId],n=e.map(e=>e.ColumnId),g=l[t],p=a(g,o,n);if(p<h){c[r]=(0,s.daysBetweenDates)((0,s.parseIsoDateStringInLocalTime)(t),(0,s.parseIsoDateStringInLocalTime)(r),!0);break}if(p===h){const e=a(g,o,[m.ColumnId])===h?0:(0,s.daysBetweenDates)((0,s.parseIsoDateStringInLocalTime)(t),(0,s.parseIsoDateStringInLocalTime)(r),!0);c[r]=e;break}}}const u=Object.keys(c);if(0!==u.length)return Math.round(u.reduce((e,t)=>e+c[t],0)/u.length)},t.CfdAggregationHelper.allLeadTimeColumnsSelected=function(e,t){const a=o(e),r=e.filter(e=>e.ColumnId!==a.ColumnId).map(e=>e.ColumnId).sort(),s=t.map(e=>e).sort();return r.length===s.length&&r.every((e,t)=>e===s[t])}}(),function(e){N=t[e]={},t[e].Themes={Blue:"Blue",Green:"Green",Orange:"Orange",Purple:"Purple",Red:"Red"};t[e].NamedColorPalette=class{};class a{constructor(){this.palettes={},this.invariantNames=[],this.localizedNames=[]}static getInstance(){return null==this.instance&&(this.instance=new a,this.instance.addDefaultPalettes()),this.instance}getPalette(e){let t;return t=this.invariantNames.indexOf(e)<0?this.palettes[this.invariantNames[0]]:this.palettes[e]}getInvariantNameFromLocalizedName(e){let t;const a=this.localizedNames.indexOf(e);return t=a<0?this.invariantNames[0]:this.invariantNames[a]}getPaletteNames(){return this.invariantNames}getLocalizedPaletteNames(){const e=[];for(const t in this.palettes)e.push(this.palettes[t].localizedName);return e}addPalette(e,t){this.palettes[e]=t,this.invariantNames.push(e),this.localizedNames.push(t.localizedName)}addDefaultPalettes(){this.addPalette(t[e].Themes.Blue,{localizedName:x.PaletteName_Blue,proposedColor:"#E8E8E8",doneColor:"#00643A",otherColors:["#3F9BD8","#D6EDED","#1B478B","#7FBCE5","#007ACC","#E4F3F3","#0D60AB","#C9E7E7"]}),this.addPalette(t[e].Themes.Green,{localizedName:x.PaletteName_Green,proposedColor:"#E8E8E8",doneColor:"#292E6B",otherColors:["#9CC3B2","#339947","#207752","#BFD8CD","#7CAF9A","#8DC54B","#56987D","#60AF49"]}),this.addPalette(t[e].Themes.Orange,{localizedName:x.PaletteName_Orange,proposedColor:"#E8E8E8",doneColor:"#7F1725",otherColors:["#F9B978","#FCFD8B","#E87025","#FBD144","#F7A24B","#FBBC3D","#F58B1F","#FBE74B"]}),this.addPalette(t[e].Themes.Purple,{localizedName:x.PaletteName_Purple,proposedColor:"#E8E8E8",doneColor:"#292E6B",otherColors:["#C7ABD0","#DAD4F7","#71338D","#E0CAE7","#AE88B9","#C0B6E9","#9260A1","#AA9CDF"]}),this.addPalette(t[e].Themes.Red,{localizedName:x.PaletteName_Red,proposedColor:"#E8E8E8",doneColor:"#292E6B",otherColors:["#F06673","#F9CCE8","#B20B1E","#F599A2","#EB3345","#FBDDEF","#E60017","#F599D1"]})}}t[e].ChartColorPalettes=a,a.instance=null}("ChartColorPalettes"),t.CumulativeFlowDiagramContracts={},function(e){async function a(e){const t=e.getService("IVssContributionService"),a=await t.getDataAsync("ms.vss-dashboards-web.collection-time-zone-data-provider");if(null==a){const e=["Failed to retrieve today in account time zone.",t.getDataProviderExceptions()["ms.vss-dashboards-web.collection-time-zone-data-provider"].message].join(" ");throw new Error(e)}return new Date(Date.now()+a.utcOffset).toISOString().substr(0,10)}function r(e){const t=e.split("-");return new Date(Date.UTC(+t[0],+t[1]-1,+t[2]))}R=t.DateUtils={},t.DateUtils.extractStartDate=async function(e,t){let s;if("RollingPeriod"===t.identifier){const i=r(await a(e));s=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()-t.settings)).toISOString().substr(0,10)}else s=t.settings;return s},t.DateUtils.fetchTodayInAccountTimeZone=a,t.DateUtils.daysBetweenDates=function(e,t){const a=r(e),s=r(t);return Math.abs(a.getTime()-s.getTime())/864e5},t.DateUtils.dateStringAsDate=function(e){const t=e.split("-");return new Date(+t[0],+t[1]-1,+t[2])},t.DateUtils.dateStringAsUTCDate=r}(),function(e){U=t.CumulativeFlowDiagramChartPropsProvider={};t.CumulativeFlowDiagramChartPropsProvider.CumulativeFlowDiagramChartPropsProvider=class{constructor(e){this.context=e}createChartProps({title:e,size:t,boardColumns:a,cumulativeFlowHistory:r,startDate:s,endDate:i,includeFirstBoardColumn:n,desiredBoardColumnIds:l,showLoadAnimations:d,colorPalette:c,onChartClick:u}){const m=this.createChartSeries(s,i,a,n,l,r,c),g=m.length>0?Math.min(...m[0].data):0;return{pageContext:this.context,hostOptions:t,chartType:o.ChartTypesConstants.StackedArea,title:e,series:m,suppressAnimation:!d,tooltip:{onlyShowFocusedSeries:!0},xAxis:{renderToEdges:!0,labelFormatMode:o.LabelFormatModes.DateTime_DayInMonth,labelValues:this.createXAxisLabels(s,i),formatAccessibleLabelsUsingAxisCategories:!0},yAxis:{allowDecimals:!1,endOnTick:!1,updateMinOnLegendClick:!0,min:g},click:u}}createChartClickHandler({project:e,team:t,boardCategoryReferenceName:a},r){const s=(0,T.createBoardUrl)(this.context,e,t,a);return e=>{if((0,i.onWidgetClick)(this.context,r),r.openLinksInNewTab||e.ctrlKey||2===e.button){const e=window.open(s,"_blank");e&&(e.opener=null)}else(0,n.FastPageSwitch)(this.context,s,!0)}}createChartSeries(e,t,a,r,s,i,o){const n=(0,R.daysBetweenDates)(e,t)+1,l=[];for(let e=0;e<n;++e)l.push(0);const d={};for(const t of i){const a=(0,R.daysBetweenDates)(e,t.SampleDate);null==d[t.ColumnId]&&(d[t.ColumnId]=l.slice()),d[t.ColumnId][a]=t.Count}const c=this.orderBoardColumns(a),u=c.length>0&&null!=d[c[c.length-1].ColumnId],m=null!=d[c[0].ColumnId];void 0!==s||r||c.pop();const g=[];let h=0;for(const e of c)if(null!=d[e.ColumnId]){let t;if(0===h&&m)t=o.doneColor;else{const e=m?-1:0;t=o.otherColors[(h+e)%o.otherColors.length]}(void 0===s||s.indexOf(e.ColumnId)>=0)&&g.push({name:this.calculateSeriesNameFromColumn(e),data:d[e.ColumnId],color:t}),h++}return(r||void 0!==s&&s.indexOf(c[c.length-1].ColumnId)>=0)&&u&&(g[g.length-1].color=o.proposedColor),g}createXAxisLabels(e,t){const a=(0,R.daysBetweenDates)(e,t)+1,r=[];for(let t=0;t<a;++t){const a=(0,R.dateStringAsDate)(e),s=new Date(a.getFullYear(),a.getMonth(),a.getDate()+t);r.push(s)}return r}orderBoardColumns(e){const t=[],a=[];for(const r of e)r.IsDeleted?a.push(r):t.push(r);a.sort((e,t)=>{const a=new Date(e.RevisedDate);return new Date(t.RevisedDate).getTime()-a.getTime()}),t.sort((e,t)=>t.ColumnOrder-e.ColumnOrder);const r=t.slice();return r.splice(1,0,...a),r}calculateSeriesNameFromColumn(e){return e.IsDeleted?(0,r.format)(x.DeletedColumnName_Format,e.ColumnName):e.ColumnName}}}(),function(e){M=t.PlaceholderBoardUnsupportedError={};t.PlaceholderBoardUnsupportedError.PlaceholderBoardUnsupportedError=class extends Error{constructor(e,t,a){const s=new.target.prototype;super((0,r.format)(x.Error_PlaceholderBoardUnsupported_Format,a.BoardName)),this.project=e,this.team=t,this.board=a,this.__proto__=s}}}(),function(e){k=t[e]={},t[e].widgetCommand="CFD",t[e].reportCommand="CFDReport",t[e].getCommandName=function(a){return a&&"embedded-View"===a?t[e].reportCommand:t[e].widgetCommand}}("QueryUtilities"),function(e){L=t.CumulativeFlowDiagramSettingsManager={};class a{constructor(e,t=k.widgetCommand){this.context=e,this.command=t}async ensureAndParseSettings(e,t){return null!=e.settings?{title:e.name,settings:this.parseSettings(e.settings,t)}:this.createDefaultSettings(e.teamContext)}parseSettings(e,t){const r=JSON.parse(e),{timePeriod:s}=r.chartDataSettings;if("RollingPeriod"===s.identifier)s.settings=Math.max(a.minAllowedTimePeriodDays,Math.min(a.maxAllowedTimePeriodDays,s.settings));else{const e=(0,R.daysBetweenDates)(s.settings,t),r=new Date(t);e>a.maxAllowedTimePeriodDays?s.settings=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()-a.maxAllowedTimePeriodDays).toISOString().substr(0,10):e<a.minAllowedTimePeriodDays&&(s.settings=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()-a.minAllowedTimePeriodDays).toISOString().substr(0,10))}return r}async createDefaultSettings(e){const t=(0,c.getProject)(this.context),a=this.context.getService(d.IDashboardsCacheableQueryServiceName),s=new l.LowestLevelVisibleBoardQuery(this.command,t.id,e.id),i=await a.getCacheableQueryResult(s);if(null==i.BoardId)throw new M.PlaceholderBoardUnsupportedError(t,e,i);const o={chartDataSettings:{project:t.id,team:e.id,board:i.BoardId,boardLane:null,includeFirstBoardColumn:!1,timePeriod:{identifier:"RollingPeriod",settings:30}},themeName:"Blue"};return{title:(0,r.format)(x.DefaultTitle_Format,e.name,i.BoardName),settings:o}}}t.CumulativeFlowDiagramSettingsManager.CumulativeFlowDiagramSettingsManager=a,a.maxAllowedTimePeriodDays=180,a.minAllowedTimePeriodDays=14}(),function(e){_=t.UnvisitedBoardMessage={};t.UnvisitedBoardMessage.UnvisitedBoardMessage=class extends m.VssComponent{render(){return u.createElement(g.ZeroData,{className:"unvisited-board-message",primaryText:(0,r.format)(x.Error_PlaceholderBoardUnsupported_Format,this.props.boardName),actionText:(0,r.format)(x.UnvisitedBoardVisualMessage_Action_Format,this.props.boardName),actionType:2,actionHref:this.props.boardUrl,imagePath:(0,a.getAssetLocation)(this.context.pageContext,"ms.vss-dashboards-web/cumulative-flow-diagram-widget-content/images/cfd-silhouette.png"),imageAltText:""})}}}(),function(e){t.CumulativeFlowDiagramWidget={};class a extends m.VssComponent{constructor(e){super(e),this.state={}}async componentDidMount(){await this.updateState()}async componentDidUpdate(e,t){null==t.renderData&&null!=this.state.renderData&&("ErrorRenderData"===this.state.renderData.kind?this.props.onWidgetLoaded({outcome:f.LoadingStatus.failure,outcomeDescription:this.state.renderData.error}):(this.props.onWidgetLoaded(),this.publishOnWidgetLoadedTelemetry())),this.props.settings===e.settings&&this.props.size.height===e.size.height&&this.props.size.width===e.size.width&&this.props.name===e.name||await this.updateState()}render(){if(null==this.state.renderData||"ErrorRenderData"===this.state.renderData.kind)return null;let e=null;switch(this.state.renderData.kind){case"WidgetRenderData":e=this.state.renderData.chartProps.series.length>0?u.createElement(u.Fragment,null,u.createElement("div",{className:"cumulative-flow-diagram-header"},u.createElement(b.VisualHeader,{title:this.state.renderData.title,hideTitle:this.props.shouldNotShowTitle,subtitle:this.state.renderData.subtitle,dataQualityWarning:w.default.evaluate(this.state.renderData.dataQualityWarnings)}),this.renderMetrics()),u.createElement(A.PureChart,Object.assign({},this.state.renderData.chartProps))):u.createElement(F.NoDataMessage,{size:this.props.size,visualTitle:this.state.renderData.title});break;case"UnvisitedBoardMessageRenderData":e=u.createElement(u.Fragment,null,u.createElement(b.VisualHeader,{title:this.props.name,hideTitle:this.props.shouldNotShowTitle}),u.createElement(_.UnvisitedBoardMessage,{visualTitle:this.props.name,size:this.props.size,boardName:this.state.renderData.boardName,boardUrl:this.state.renderData.boardUrl}));break;case"AXFaultInRenderData":e=u.createElement(y.AxFaultInMessage,{size:this.props.size,visualTitle:this.props.name});break;case"MissingAXPermsData":e=u.createElement(v.ActionRequiredContent,{visualTitle:this.props.name,onClick:()=>{(0,P.showActionRequiredDialog)(this.context.pageContext,C.PermissionDeniedTitleText,u.createElement(E.FormatComponent,{format:C.PermissionDeniedDetailText},u.createElement("a",{href:C.PermissionDeniedDetailLinkAddress},C.PermissionDeniedDetailLinkText)))}});break;default:u.createElement(B.UnconfiguredMessage,{size:this.props.size,visualTitle:this.props.name})}return u.createElement("div",{className:"cumulative-flow-diagram-widget"},e)}renderMetrics(){return this.state.renderData&&"WidgetRenderData"===this.state.renderData.kind&&null!=this.state.renderData.wipMetricValue?u.createElement(S.ScalarHorizontalComponent,{measure:x.WorkInProgressMetricLabel,value:this.state.renderData.wipMetricValue,description:x.WorkInProgressMetricAggregationDescription}):null}async publishOnWidgetLoadedTelemetry(){if(this.state.renderData&&"WidgetRenderData"===this.state.renderData.kind){const e=await(0,R.fetchTodayInAccountTimeZone)(this.context.pageContext),t=new L.CumulativeFlowDiagramSettingsManager(this.context.pageContext,(0,k.getCommandName)(this.props.presentationMode)),{settings:a}=await t.ensureAndParseSettings(this.props,e);(0,i.onWidgetLoaded)(this.context.pageContext,this.props,{includeFirstBoardColumn:a.chartDataSettings.includeFirstBoardColumn,numberOfSpecifiedColumns:a.chartDataSettings.desiredBoardColumnIds&&a.chartDataSettings.desiredBoardColumnIds.length,filteringBySwimlane:!!a.chartDataSettings.boardLane,timePeriodType:a.chartDataSettings.timePeriod.identifier,rollingPeriod:"RollingPeriod"===a.chartDataSettings.timePeriod.identifier?a.chartDataSettings.timePeriod.settings:void 0,themeName:a.themeName})}}cancelDataPromises(){this.settingsCancelable&&this.settingsCancelable.cancel(),this.boardColumnsCancelable&&this.boardColumnsCancelable.cancel(),this.cumulativeFlowHistoryCancelable&&this.cumulativeFlowHistoryCancelable.cancel()}async updateState(){try{this.setState(await this.getRenderData())}catch(e){if(e.isCanceled)return;this.setState({renderData:this.getRenderDataFromError(e)})}}async getRenderData(){if(this.cancelDataPromises(),null==this.props.teamContext&&null==this.props.settings)return{renderData:{kind:"UnconfiguredRenderData"}};const e=new Set,t=(0,k.getCommandName)(this.props.presentationMode),r=await(0,R.fetchTodayInAccountTimeZone)(this.context.pageContext),s=new L.CumulativeFlowDiagramSettingsManager(this.context.pageContext,t);this.settingsCancelable=this.trackPromise(s.ensureAndParseSettings(this.props,r));const{title:i,settings:o}=await this.settingsCancelable.promise,n=this.context.pageContext.getService(d.IDashboardsCacheableQueryServiceName),l=new h.BoardColumnsQuery(t,o.chartDataSettings.project,o.chartDataSettings.board);this.boardColumnsCancelable=this.trackPromise(n.getCacheableQueryResult(l)),this.addDataQualityWarnings(n.getDataQualityWarnings(l),e);const c=await(0,R.extractStartDate)(this.context.pageContext,o.chartDataSettings.timePeriod),u=new p.CumulativeFlowHistoryQuery(t,{project:o.chartDataSettings.project,boardId:o.chartDataSettings.board,boardLane:o.chartDataSettings.boardLane,startDate:c});this.cumulativeFlowHistoryCancelable=this.trackPromise(n.getCacheableQueryResult(u)),this.addDataQualityWarnings(n.getDataQualityWarnings(u),e);const[{boardColumns:m,boardCategoryReferenceName:g},C]=await Promise.all([this.boardColumnsCancelable.promise,this.cumulativeFlowHistoryCancelable.promise]),D=new U.CumulativeFlowDiagramChartPropsProvider(this.context.pageContext),f=D.createChartClickHandler({project:o.chartDataSettings.project,team:o.chartDataSettings.team,boardCategoryReferenceName:g},this.props);return{renderData:{kind:"WidgetRenderData",title:i,subtitle:this.createSubtitle(o.chartDataSettings.timePeriod),chartProps:D.createChartProps({title:i,size:{width:this.props.size.width,height:this.props.size.height-a.chartHostHeightAdjustment},startDate:c,endDate:r,includeFirstBoardColumn:o.chartDataSettings.includeFirstBoardColumn,desiredBoardColumnIds:o.chartDataSettings.desiredBoardColumnIds,boardColumns:m,cumulativeFlowHistory:C,colorPalette:N.ChartColorPalettes.getInstance().getPalette(o.themeName),showLoadAnimations:this.props.showLoadAnimations,onChartClick:f}),dataQualityWarnings:Array.from(e),wipMetricValue:(0,I.getAverageWip)(m,C,o.chartDataSettings.desiredBoardColumnIds||m.map(e=>e.ColumnId))}}}getRenderDataFromError(e){const t=(0,D.recognizeAnalyticsException)(e);return e instanceof M.PlaceholderBoardUnsupportedError?{kind:"UnvisitedBoardMessageRenderData",boardName:e.board.BoardName,boardUrl:(0,T.createBoardUrl)(this.context.pageContext,e.project.name,e.team.id,e.board.BoardName)}:t===D.AnalyticsExceptionType.DataNotReady?{kind:"AXFaultInRenderData"}:t===D.AnalyticsExceptionType.MissingAnalyticsPermissions?{kind:"MissingAXPermsData",error:e}:{kind:"ErrorRenderData",error:e}}createSubtitle(e){let t;if("RollingPeriod"===e.identifier)t=1===e.settings?x.Subtitle_RollingPeriod_Singular:(0,r.format)(x.Subtitle_RollingPeriod_Plural_Format,e.settings);else{const a=(0,R.dateStringAsDate)(e.settings);t=(0,r.format)(x.Subtitle_StartDate_Format,a.toLocaleDateString())}return t}addDataQualityWarnings(e,t){e.then(e=>{e.forEach(e=>{t.add(e)})})}}a.chartHostHeightAdjustment=58,m.VssComponent.register("cumulativeFlowDiagramWidget",a)}()},["Resources","BoardsUtils","CfdAggregationHelper","ChartColorPalettes","CumulativeFlowDiagramContracts","DateUtils","CumulativeFlowDiagramChartPropsProvider","PlaceholderBoardUnsupportedError","QueryUtilities","CumulativeFlowDiagramSettingsManager","UnvisitedBoardMessage","CumulativeFlowDiagramWidget"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-dashboards-web.cumulative-flow-diagram-widget-content"}}));