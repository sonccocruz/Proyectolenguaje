"use strict";define("InstantSearch/Shared",["require","exports","VSS/Core/Observable","VSS/Platform/Context","Wit/UI/Data","react","VSS/Platform/Layout","VSSUI/Icon","VSSUI/TooltipEx","Wit/UI/WorkItemTypeIcon","VSS/Core/Util/String","VSSUI/Utilities/FriendlyNumber","VSS/Features/PlatformUI/ContributedItemUtil","VSS/Platform/Feature","VSS/Core/TimerManagement","VSS/Features/PlatformUI/ContributedMenu","VSSUI/Menu"],function(e,t,r,s,i,n,o,a,c,u,h,d,v,l,p,I,m){var g,S,_,P,k,y,f,b;g=t.Resources={},t.Resources.OthersHeader="Others",t.Resources.QuickNavigationPlaceholder="Type / for a list of filters",S=t.Constants={},t.Constants.KeyDebounceTimeMs=200,t.Constants.AllHubs="All",t.Constants.InstantSearchProjectContextMenuContribution="ms.vss-work-web.instant-search-project-menu",t.Constants.InstantSearchCollectionContextMenuContribution="ms.vss-work-web.instant-search-collection-menu",t.Constants.InstantSearchDebouncedDelayInMs="Search/InstantSearch/DebouncedDelayInMs",t.Constants.KeyDebounceTimeMs2=500,t.Constants.InstantSearchDelayFeature="WebAccess.Search.WorkItem.InstantSearch.Delay",(b=t.Constants.CustomerIntelligenceConstants||(t.Constants.CustomerIntelligenceConstants={})).Area="Web",b.FeatureArea="SearchPortal",function(e){_=t.RequestManager={};t.RequestManager.RequestManager=class{constructor(){this._requestId=0,this._lastResolvedRequestId=-1}get newRequestId(){return this._requestId++}isValidRequest(e){return e>this._lastResolvedRequestId&&(this._lastResolvedRequestId=e,!0)}}}(),function(e){P=t.Utils={},t.Utils.getQueryTextWithWildCardChar=function(e){const t=e.trim();return t?t.endsWith('"')||t.endsWith("*")||t.endsWith("@me")||function(e){const t=e.lastIndexOf("@today");if(-1!=t){const r=e.substr(t),s=new RegExp("^@today(\\s)*([+-])*(\\s)*[0-9]*$");return s.test(r)}return!1}(t)?t:t+"*":""},t.Utils.getSetting=function(e,t,r){const s=e.getService("ISettingsService").getEntry(t,1);return null==s?r:s},t.Utils.isIE=function(){const e=window.navigator.userAgent.toLowerCase();return!!/msie ([\d+.]+)/i.exec(navigator.userAgent)||-1!==e.indexOf("trident")}}(),function(e){k=t.TelemetryWriter={};const r="Search/Telemetry/ExcludeMarkingTTI";t.TelemetryWriter.TelemetryWriter=class{constructor(e,t){this.pageContext=e,this.feature=t,this.publish=((e,t={})=>{this.pageContext.getService("IVssTelemetryService").publishEvent(S.CustomerIntelligenceConstants.Area,this.feature,Object.assign(Object.assign({},t),{event:e}))}),this.notifySearchStarted=((e,t,r)=>{let s;const i={featureName:this.feature,eventName:e,isExcludedFromTTI:this._excludeMarkingTTI};return(s=this._ttiMarked?this.service.startScenario(r,!this._excludeMarkingTTI,void 0,i):this.service.startScenario(t,!this._excludeMarkingTTI,void 0,i)).featureArea=S.CustomerIntelligenceConstants.FeatureArea,s}),this.notifySearchFailed=((e,t)=>{e.addProperties({isAborted:!0,error:t}),e.complete(),this._ttiMarked||(this._ttiMarked=!0)}),this.notifyResultsRendered=(e=>{e.complete(),this._ttiMarked||(this._ttiMarked=!0)}),this._ttiMarked=!1,this._excludeMarkingTTI=(0,P.getSetting)(this.pageContext,r,!1)}get service(){return this.pageContext.getService("IVssPerformanceService")}}}(),function(e){y=t.InstantSearchProvidersBaseInstantSearchProvider={};t.InstantSearchProvidersBaseInstantSearchProvider.BaseInstantSearchProvider=class extends s.VssService{constructor(){super(...arguments),this._requestManager=new _.RequestManager,this._menuItems=new r.ObservableArray,this.getSuggestions=((e,t,r,s,i)=>{const n=performance.now(),{telemetryWriter:o,invokedProvidersProps:a}=t,c=this._requestManager.newRequestId;let u=!1,h=void 0;s&&i&&(u=!0,(h=o.notifySearchStarted(r,s,i)).addProperties({isQuickNavigationMode:!!a})),this._fetchResults(e,t).then(s=>{const i=performance.now()-n;o.publish(r,{timeToFetch:i}),this._requestManager.isValidRequest(c)&&this._onFetchSuccess(e,t,s,h),u&&h&&o.notifyResultsRendered(h)},e=>{this._onFetchFail(t,e,h),u&&h&&o.notifySearchFailed(h,e)})})}clearMenuItems(){this._menuItems.splice(0,this._menuItems.length),this._isHubSupportedByDefault=void 0}getMenuItems(e,t){const{searchInput:r}=t,s=this.shouldInvokeProvider(t),i=r.queryText().trim(),n=(0,P.getQueryTextWithWildCardChar)(i);return this._getMenuItems(e,t,s,n)}isHubSupportedByDefault(e){if(null==this._isHubSupportedByDefault){const t=this._contribution?this._contribution.defaultSupportedHubs||[S.AllHubs]:[];this._isHubSupportedByDefault=-1!==t.findIndex(t=>t===e||t===S.AllHubs)}return this._isHubSupportedByDefault}shouldInvokeProvider(e){const t=this._contribution?this._contribution.menuId:"",r=this._contribution?this._contribution.searchProviderId:"",{providerMenuIds:s,hubName:i,invokedProvidersProps:n,searchInput:o}=e,a=-1!==s.findIndex(e=>e===t),c=!!n||this.isHubSupportedByDefault(i);return r&&n&&-1!==this._providerInvocationProps.findIndex(e=>e.key===n.key)&&o.setHelpSearchProviderId(r),a&&c}_initContribution(e){const t=this.pageContext.getService("IVssContributionService").getContribution(e);t&&(this._contribution=t,this._groupKey=t.groupKey,this._rank=t.rank,this._providerInvocationProps=t.providerInvocationProps||[])}_fetchResults(e,t){return Promise.resolve({})}_getMenuItems(e,t,r,s){return null}_onFetchSuccess(e,t,r,s){}_onFetchFail(e,t,r){}}}(),function(e){t.ServicesExecuteSearchService={};s.Services.add("IExecuteSearchService",{serviceFactory:class extends s.VssService{executeSearch(e,t,r,s,i){if(e){const n=this.pageContext.getService("IVssSearchService"),o=this.pageContext.getService("IVssContributionService"),a=t||n.getSelectedProvider();if(a){const t=r,c=t?{providerId:a,queryText:e,openInNewWindow:s,type:t}:{providerId:a,queryText:e,openInNewWindow:s};o.getService(a).then(e=>{const t=e&&e.getQuery?e.getQuery(c):c;this._executeSearchAndCallback(n,t,i)},e=>{this._executeSearchAndCallback(n,c,i)})}}}_executeSearchAndCallback(e,t,r){r&&r(),e.execute(t)}}})}(),function(e){t.ServicesWorkItemTrackingDataProviderService={};s.Services.add("IWorkItemTrackingDataProviderService",{serviceFactory:class extends s.VssService{_serviceStart(e){super._serviceStart(e),this._dataProvider=new i.WorkItemTrackingDataProvider(e)}getDataProvider(){return this._dataProvider}}})}(),function(e){f=t.ResultRow={};t.ResultRow.ResultRow=class extends o.VssComponent{render(){const{title:e,mutedText:t,mutedTextAriaLabel:r,iconProps:s,workItemIconProps:o}=this.props;return n.createElement("div",{className:"search-suggestion-row flex-row flex-center"},n.createElement("span",{className:"search-suggestion-icon flex-row flex-noshrink"},s&&n.createElement(a.Icon,{iconName:s.iconName,className:s.iconClass}),o&&n.createElement(i.WorkItemTypeIconProvider,{dataProvider:this.workItemTrackingDataProvider,dataSource:{projectIdOrName:o.project,workItemTypeName:o.workItemType}},e=>n.createElement(u.WorkItemTypeIcon,{data:e}))),n.createElement(c.Tooltip,{overflowOnly:!0,text:e},n.createElement("span",{className:"search-suggestion-title text-ellipsis"},e)),t&&n.createElement("span",{"aria-label":r,className:"muted-text"},t))}get workItemTrackingDataProvider(){if(!this._workItemTrackingDataProvider){const e=this.context.pageContext.getService("IWorkItemTrackingDataProviderService");this._workItemTrackingDataProvider=e.getDataProvider()}return this._workItemTrackingDataProvider}}}(),function(e){t.InstantSearchProvidersOtherResultsProvider={};class r extends y.BaseInstantSearchProvider{constructor(){super(...arguments),this._contributionId="",this._otherEntities=[],this._addHeader=!1,this._executeSearch=((e,t,r,s,i)=>{this.pageContext.getService("IExecuteSearchService").executeSearch(e,t,r,s,i)}),this._renderMenuCell=((e,t,r,s,i,o)=>{switch(r.onFocusItem=o,e){case 2:return n.createElement(f.ResultRow,{iconProps:s,title:i});default:return}}),this._onOtherResultClick=((e,t,r)=>{t(!0),r.publish("ResultClicked",{index:e.index,resultType:"OtherResults",entityType:e.entity})})}_serviceStart(e){super._serviceStart(e),this._initContribution(this._contributionId),this._legacySearchClient=e.getRestClient("Legacy.ISearchRestClient")}_getMenuItems(e,t,r,s){return r&&s?(0===this._menuItems.length&&this._updateOtherSuggestions(t,!0),this.getSuggestions(s,t,"OtherSuggestionsFetched")):this._menuItems.splice(0,this._menuItems.length),this._menuItems}_initContribution(e){super._initContribution(e);const t=this.pageContext.getService("IVssSearchService").getSelectedProvider();this._contribution&&this._contribution.menuProps&&this._contribution.menuProps.forEach(e=>{e.searchProviderId!==t&&(this._otherEntities.push(Object.assign({},e)),r._setHeader&&(r._setHeader=!1,this._addHeader=!0))})}_fetchResults(e,t){const r=this._otherEntities.map(t=>{const r={searchFilters:this.projectProperties?{[t.searchProjectFilter]:[this.projectProperties.name]}:{},searchText:e},s=t.entity;return this._legacySearchClient.resultsCount(r,s,this.projectProperties&&this.projectProperties.id)});return Promise.all(r)}_onFetchSuccess(e,t,r){const{searchInput:s}=t;this.shouldInvokeProvider(t)&&!s.queryText().trim()?this._menuItems.splice(0,this._menuItems.length):(this._otherEntities.forEach((e,t)=>{const s=r[t],i=2===s.relationFromExactCount;e.count=s.count,e.showPlus=i}),this._updateOtherSuggestions(t))}_onFetchFail(e,t){}_updateOtherSuggestions(e,t){this._menuItems.splice(0,this._menuItems.length),this._addHeader&&this._menuItems.push({id:"",groupKey:this._groupKey,rank:this._rank,itemType:2,text:g.OthersHeader,className:"search-suggestion-header"}),this._otherEntities.forEach((r,s)=>{const{count:i,entity:n}=r,o=void 0===i||t?r.label:(0,h.format)("{0} ({1})",r.label,(0,h.format)(r.showPlus?"{0}+":"{0}",(0,d.getFriendlyDisplayValue)(i))),{searchInput:a,telemetryWriter:c,onFocus:u}=e,v=a.queryText(),l={index:s,entity:n},p={iconClass:r.iconClass,iconName:r.iconName};this._menuItems.push({id:"",groupKey:this._groupKey,rank:this._rank+r.position,renderMenuCell:(e,t,r)=>this._renderMenuCell(e,t,r,p,o,u),onActivate:(e,t)=>this._executeSearch(v,r.searchProviderId,r.entity,t.ctrlKey,()=>this._onOtherResultClick(l,a.setHelpVisibility,c))})})}get projectProperties(){if(!this._projectProperties){const e=this.pageContext.getService("ITfsPageService").getData();this._projectProperties=e?e.project:void 0}return this._projectProperties}}function i(e){return class extends r{constructor(){super(...arguments),this._contributionId=e}}}t.InstantSearchProvidersOtherResultsProvider.OtherResultsProvider=r,r._setHeader=!0,s.Services.add("code-other-results-project-provider-service",{serviceFactory:i("ms.vss-code-web.code-other-results-project-menu-provider")}),s.Services.add("workitem-other-results-project-provider-service",{serviceFactory:i("ms.vss-work-web.workitem-other-results-project-menu-provider")}),s.Services.add("wiki-other-results-project-provider-service",{serviceFactory:i("ms.vss-wiki-web.wiki-other-results-project-menu-provider")}),s.Services.add("package-other-results-project-provider-service",{serviceFactory:i("ms.feed.package-other-results-project-menu-provider")}),s.Services.add("code-other-results-collection-provider-service",{serviceFactory:i("ms.vss-code-web.code-other-results-collection-menu-provider")}),s.Services.add("workitem-other-results-collection-provider-service",{serviceFactory:i("ms.vss-work-web.workitem-other-results-collection-menu-provider")}),s.Services.add("wiki-other-results-collection-provider-service",{serviceFactory:i("ms.vss-wiki-web.wiki-other-results-collection-menu-provider")}),s.Services.add("package-other-results-collection-provider-service",{serviceFactory:i("ms.feed.package-other-results-collection-menu-provider")})}(),function(e){t.ServicesInstantSearchMetadataService={};class r extends s.VssService{constructor(){super(...arguments),this._invocationKeyProviderMenuIdsMap={},this._invocationKeyPropsMap={},this._providerInvocationHelpProps=[]}get isProjectContext(){if(null==this._isProjectContext){const e=this.pageContext.getService("ITfsPageService").getData();this._isProjectContext=!(!e||!e.project)}return this._isProjectContext}get menuContributionId(){return this._menuContributionId||(this.isProjectContext?this._menuContributionId=S.InstantSearchProjectContextMenuContribution:this._menuContributionId=S.InstantSearchCollectionContextMenuContribution),this._menuContributionId}get providerInvocationHelpProps(){return this._providerInvocationHelpProps}_serviceStart(e){super._serviceStart(e),this.fetchInstantSearchMenuContribution().then(()=>{this._initialize()})}fetchInstantSearchMenuContribution(){return this.pageContext.getService("IVssContributionService").getContributionAsync(this.menuContributionId)}getProvidersToInvoke(e){const t=(0,l.isFeatureFlagEnabled)(this.pageContext,"WebAccess.Search.WorkItem.QuickNavigation",!1)?this._invocationKeyProviderMenuIdsMap[e]:void 0,r=this._invocationKeyProviderMenuIdsMap.default,s=t||r,i=t?e:"",n=i?this._invocationKeyPropsMap[i]:void 0;return{providerMenuIds:s,invokedProvidersProps:i?{key:i,props:n}:void 0}}_initialize(){const e=(0,v.getContributedItems)(this.pageContext,this.menuContributionId,"menuId","ms.vss-web.menu-provider");for(const t of e){const{contribution:e}=t,{providerInvocationProps:r,menuId:s}=e;if(this._pushToInvocationKeyProvidersMap("default",s),r&&r.length>0)for(const e of r){const{key:t,quickNavigationHelpProps:r}=e;r&&!this._invocationKeyPropsMap[t]&&this._providerInvocationHelpProps.push(e),this._invocationKeyPropsMap[t]=e,this._pushToInvocationKeyProvidersMap(t,s)}}}_pushToInvocationKeyProvidersMap(e,t){this._invocationKeyProviderMenuIdsMap[e]?this._invocationKeyProviderMenuIdsMap[e].push(t):this._invocationKeyProviderMenuIdsMap[e]=[t]}}t.ServicesInstantSearchMetadataService.InstantSearchMetadataService=r,s.Services.add("IInstantSearchMetadataService",{serviceFactory:r})}(),function(e){t.ServicesInvokedProvidersManager={};class r extends s.VssService{getProvidersToInvoke(e,t){if(!this._invokedProvidersInfo||!this._invokedProvidersInfo.invokedProvidersProps||"/"===this._invokedProvidersInfo.invokedProvidersProps.key){const r=e.queryText().trim(),s=r.toLowerCase().split(" "),i=s[0],n=s.length>1?(0,h.format)("{0} {1}",s[0],s[1]):"",o="/",a=this.pageContext.getService("IInstantSearchMetadataService");this._invokedProvidersInfo=a.getProvidersToInvoke(i),!this._invokedProvidersInfo.invokedProvidersProps&&n&&(this._invokedProvidersInfo=a.getProvidersToInvoke(n)),!this._invokedProvidersInfo.invokedProvidersProps&&i.startsWith(o)&&(this._invokedProvidersInfo=a.getProvidersToInvoke(o)),this._setSearchPrefix(r,e,t)}return this._invokedProvidersInfo}setInvokedProvider(e,t,r){const s=this.pageContext.getService("IInstantSearchMetadataService");this._invokedProvidersInfo=s.getProvidersToInvoke(e),this._setSearchPrefix(e,t,r)}isQuickNavigationModeOn(){return!(!this._invokedProvidersInfo||!this._invokedProvidersInfo.invokedProvidersProps)}shouldAllowImmersiveSearch(){if(this._invokedProvidersInfo&&this._invokedProvidersInfo.invokedProvidersProps){const{props:e}=this._invokedProvidersInfo.invokedProvidersProps;return!!e&&!!e.allowImmersiveSearch}return!0}_setSearchPrefix(e,t,r){const{replaceText:s,setSearchPrefixProps:i,setPlaceholder:n}=t,{invokedProvidersProps:o}=this._invokedProvidersInfo;if(o&&o.props&&"/"!==o.key&&i&&n){const{key:a,props:c}=o;s(e.substr(a.length).trim()),i({prefixText:a,iconName:c.iconName}),n(c.placeholder),t.onSearchPrefixRemove=(()=>{this._removeInvokedProvider(t)}),r.publish("QuickNavigationActivated",{type:a})}}_removeInvokedProvider(e){if(this._invokedProvidersInfo){this._invokedProvidersInfo.invokedProvidersProps=void 0;const{setPlaceholder:t,replaceText:r}=e;r(""),t&&t(g.QuickNavigationPlaceholder)}}}t.ServicesInvokedProvidersManager.InvokedProvidersManager=r,s.Services.add("IInvokedProvidersManager",{serviceFactory:r})}(),function(e){t.InstantSearchProvidersQuickNavigationHelpProvider={};class r extends y.BaseInstantSearchProvider{constructor(){super(...arguments),this._contributionId="ms.vss-work-web.quick-navigation-help-menu-provider",this._recordQuickNavigationHelpClickTelemetry=((e,t)=>{t.publish("ResultClicked",{index:e,resultType:"QuickNavigationHelp"})})}_serviceStart(e){super._serviceStart(e),this._initContribution(this._contributionId)}_getMenuItems(e,t,r,s){const{searchInput:i,invokedProvidersProps:n}=t,o=i.queryText().trim().toLowerCase(),a=!(!n||!n.key||"/"===n.key);return o.startsWith("/")&&!a?this._loadQuickNavigationHelpMenuItems(t,o):this._menuItems.length>0&&this._menuItems.splice(0,this._menuItems.length),this._menuItems}_loadQuickNavigationHelpMenuItems(e,t){const r=this.pageContext.getService("IInstantSearchMetadataService").providerInvocationHelpProps.filter(e=>e.key.startsWith(t)),{invokedProvidersProps:s}=e,i=s&&s.props?s.props.header:"";this._menuItems.splice(0,this._menuItems.length),r.length>0&&(this._menuItems.push({id:"",groupKey:this._groupKey,rank:this._rank,itemType:2,text:i,className:"search-suggestion-header"}),r.forEach((t,r)=>{const{searchInput:s,telemetryWriter:i}=e,{iconName:o}=t,{title:a,position:c}=t.quickNavigationHelpProps;this._menuItems.push({id:"",groupKey:this._groupKey,rank:this._rank+c,renderMenuCell:(e,t,r)=>{switch(e){case 2:return n.createElement(f.ResultRow,{iconProps:{iconName:o||"ArrowUpRight8"},title:a});default:return}},onActivate:(e,n)=>{this.pageContext.getService("IInvokedProvidersManager").setInvokedProvider(t.key,s,i),this._recordQuickNavigationHelpClickTelemetry(r,i)}})}))}}t.InstantSearchProvidersQuickNavigationHelpProvider.QuickNavigationHelpProvider=r,s.Services.add("quick-navigation-help-provider-service",{serviceFactory:r})}(),function(e){t.SearchSuggestions={};t.SearchSuggestions.InstantSearchSuggestionsComponent=class extends o.VssComponent{constructor(e,t){super(e,t),this._removeManualFocus=!0,this._isMounted=!1,this._isFirstCall=!0,this._menuItems=new r.ObservableArray,this.invokeActionOfSelectedItem=(()=>{const e=this.state.menuItems.value.filter(e=>e.className&&e.className.includes("focused")),t=e&&1===e.length?e[0]:void 0;if(t&&t.onActivate)t.onActivate(t);else{const{searchInput:e}=this.props,t=(0,P.getQueryTextWithWildCardChar)(e.queryText());this.context.pageContext.getService("IExecuteSearchService").executeSearch(t,void 0,void 0,!1,()=>{this._telemetryWriter.publish("ImmersiveSearchPerformed")})}}),this._debouncedOnResultsUpdate=(()=>{const{searchInput:e}=this.props,t=e.queryText(),r=!t,s=!!t&&t.length>1;this._isFirstCall=this._isFirstCall&&s||r,this._isFirstCall?this._updateMenuItems():this._debouncedUpdate()}),this._updateMenuItems=(()=>{const{searchInput:e}=this.props,t=(0,l.isFeatureFlagEnabled)(this.context.pageContext,"WebAccess.Search.WorkItem.QuickNavigation",!1),r=this.context.pageContext.getService("IInvokedProvidersManager"),s=r.getProvidersToInvoke(e,this._telemetryWriter),{providerMenuIds:i,invokedProvidersProps:n}=s,o=r.isQuickNavigationModeOn(),{queryText:a,setPlaceholder:c}=e;t&&!a().trim()&&!o&&c&&c(g.QuickNavigationPlaceholder),this._menuItems=(0,I.getMenuItems)(this.context.pageContext,this._contributionId,{searchInput:this.props.searchInput,hubName:this.props.hubName,telemetryWriter:this._telemetryWriter,onFocus:this._clearManualFocus,providerMenuIds:i,invokedProvidersProps:n}),this._removeManualFocus=!0,this._refreshMenuItems()}),this._refreshMenuItems=((e,t)=>{this._isMounted&&this.setState({menuItems:this._menuItems})}),this._clearManualFocus=((e,t)=>{if(this._removeManualFocus){this._removeManualFocus=!1;let e=!1;this._menuItems.value.forEach(t=>{t.className&&"focused"===t.className&&(t.className="",e=!0)}),e&&(0,P.isIE)()&&this.forceUpdate()}}),this.state={menuItems:new r.ObservableArray};const{featureName:s}=e;this._telemetryWriter=new k.TelemetryWriter(this.context.pageContext,s);let i=(0,P.getSetting)(t.pageContext,S.InstantSearchDebouncedDelayInMs,S.KeyDebounceTimeMs);(0,l.isFeatureFlagEnabled)(this.context.pageContext,S.InstantSearchDelayFeature,!1)&&(i=S.KeyDebounceTimeMs2),this._debouncedUpdate=(new p.TimerManagement).debounce(this._updateMenuItems,i)}render(){const{menuItems:e}=this.state;return n.createElement(m.Menu,{className:"instant-search-suggestions",id:"instant-search-menu",items:e})}componentDidMount(){const e=this.context.pageContext.getService("IInstantSearchMetadataService");this._contributionId=e.menuContributionId,e.fetchInstantSearchMenuContribution().then(()=>{this._isMounted=!0;const e=this.props.featureName+"Invoked";this._telemetryWriter.publish(e),this.props.searchInput.subscribe(this._debouncedOnResultsUpdate),this._updateMenuItems(),this._menuItems.subscribe(this._refreshMenuItems),this.props.searchInput.setHelpVisibility(!1)})}componentWillUnmount(){this._isMounted=!1,this.props.searchInput.unsubscribe(this._debouncedOnResultsUpdate),this._menuItems.unsubscribe(this._refreshMenuItems),this._clearMenuItems()}_clearMenuItems(){const e=this.context.pageContext.getService("IVssContributionService"),t=(0,v.getContributedItems)(this.context.pageContext,this._contributionId,"menuId","ms.vss-web.menu-provider");for(const r of t){const t=e.getServiceSync(r.id,!0);t&&t.clearMenuItems&&t.clearMenuItems()}}}}()},["Resources","Constants","RequestManager","Utils","TelemetryWriter","InstantSearchProviders/BaseInstantSearchProvider","Services/ExecuteSearchService","Services/WorkItemTrackingDataProviderService","ResultRow","InstantSearchProviders/OtherResultsProvider","Services/InstantSearchMetadataService","Services/InvokedProvidersManager","InstantSearchProviders/QuickNavigationHelpProvider","SearchSuggestions"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.instant-search-shared-content"}}));