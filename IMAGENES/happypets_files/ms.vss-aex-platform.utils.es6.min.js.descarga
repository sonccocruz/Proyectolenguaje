"use strict";define("Aex/Platform/Utils",["require","exports","react"],function(e,t,n){var s,r,u;!function(e){t.JsxString={},t.JsxString.jsxStringFormat=function(e,...t){return function(e){const t=e.split(/{\d+}/m),n=e.match(/{\d+}/gm),s=[];for(let e=0;e<t.length-1;++e){const r=t[e];if(s.push({isPlaceholder:!1,stringPart:r}),n&&n[e]){const t=n[e].match(/\d+/);if(t){const e=parseInt(t[0],void 0);s.push({isPlaceholder:!0,placeholderId:e})}}}return s.push({isPlaceholder:!1,stringPart:t[t.length-1]}),s}(e).map(e=>e.isPlaceholder?t[e.placeholderId]:e.stringPart)}}(),function(e){t.Lazy={};t.Lazy.Lazy=class{constructor(e){this.getter=e,this.hasValue=!1}get value(){return this.hasValue?this._value:(this._value=this.getter(),this.hasValue=!0,this._value)}reset(){this.hasValue=!1}}}(),function(e){function r(e){const t=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),(0,n.useCallback)(n=>{t.current&&e(n)},[e])}s=t.useAsyncState={},t.useAsyncState.useAsyncDispatch=r,t.useAsyncState.useAsyncState=function(e){const[t,s]=(0,n.useState)(e);return[t,r(s)]}}(),function(e){r=t.useResolvedPromise={},t.useResolvedPromise.useResolvedPromise=function(e,t=!1,r){const[u,o]=(0,s.useAsyncState)(void 0);return(0,n.useEffect)(()=>{u&&e===u.promise||(o({promise:e,resolvedValue:t?u&&u.resolvedValue:void 0,isCompleted:!1}),e&&(async()=>{try{const t=await e;o(n=>n&&n.promise!==e?n:{promise:e,resolvedValue:t,isCompleted:!0})}catch(t){r&&r(t),o(n=>n&&n.promise!==e?n:{promise:e,resolvedValue:void 0,isCompleted:!0,error:t})}})())},[e]),[u&&u.resolvedValue,!(!u||!u.isCompleted),u&&u.error]}}(),function(e){t.useAsyncAction={},t.useAsyncAction.useAsyncAction=function(e,t){const[s,u]=(0,n.useState)([void 0,void 0,void 0]),[o,i,c]=s,[a,l]=(0,r.useResolvedPromise)(o,t),d=(0,n.useCallback)(async(...t)=>{const n=e(...t),s=async function(e,t){try{return{state:1,value:await e,error:void 0,args:t,promise:e}}catch(n){return{state:2,error:n,value:void 0,args:t,promise:e}}}(n,t);return u([s,t,n]),s.then(e=>e.value)},[e]);return o?l?[a,d]:[{state:0,args:i,error:void 0,value:a&&a.value,promise:c},d]:[void 0,d]}}(),function(e){function r(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function o(e,t){const s=(0,n.useRef)(t);s.current=t;const u=(0,n.useMemo)(()=>(function(e){return"function"==typeof e?e():e})(e),t),[[o,i],c]=(0,n.useState)([u,t]);return[(0,n.useMemo)(()=>r(i,t)?o:u,[o,...t]),(0,n.useCallback)(e=>{c(n=>{const[o,i]=n;return r(i,t)?"function"==typeof e?[e(o),t]:[e,t]:r(s.current,t)?"function"==typeof e?[e(u),t]:[e,t]:n})},[c,...t])]}u=t.useDependentState={},t.useDependentState.depsListEquals=r,t.useDependentState.useDependentState=o,t.useDependentState.useAsyncDependentState=function(e,t){const[n,r]=o(e,t);return[n,(0,s.useAsyncDispatch)(r)]}}(),function(e){t.useMemoizedResultCallback={},t.useMemoizedResultCallback.useMemoizedResultCallback=function(e,t,s=1){const r=(0,n.useMemo)(()=>[],[t]);return(0,n.useCallback)((...t)=>{for(const e of r)if((0,u.depsListEquals)(e[0],t))return e[1];const n=e(...t);return r.unshift([t,n]),r.length>s&&(r.length=s),n},[r,s])}}(),function(e){t.useVersionKey={},t.useVersionKey.useVersionKey=function(...e){const t=(0,n.useRef)(0);return(0,n.useMemo)(()=>++t.current,e)}}(),function(e){t.AsyncContainer={},t.AsyncContainer.AsyncContainer=function(e){const[t]=(0,r.useResolvedPromise)(e.promise);return e.children(t)}}(),function(e){t.Context={},t.Context.getTruthyContextConsumer=function(e,t){return s=>n.createElement(e.Consumer,null,e=>{const n=t(e);return n?s.children(n):null})}}()},["JsxString","Lazy","useAsyncState","useResolvedPromise","useAsyncAction","useDependentState","useMemoizedResultCallback","useVersionKey","AsyncContainer","Context"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-aex-platform.utils"}}));